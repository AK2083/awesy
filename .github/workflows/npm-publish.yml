# This workflow will run tests using node and then publish a package to GitHub Packages when a release is created
# For more information see: https://docs.github.com/en/actions/publishing-packages/publishing-nodejs-packages

name: Node.js Package

on:
  push:
    branches:
      - main

jobs:
  release:
      name: Release
      runs-on: ubuntu-latest
      permissions:
        contents: write
      steps:
        - name: Checkout code
          uses: actions/checkout@v4
          with:
            fetch-depth: 0 # Notwendig f√ºr release-it, um alle Commits zu sehen
  
        - name: Setup Node.js
          uses: actions/setup-node@v4
          with:
            node-version: 22 # Oder deine bevorzugte Node-Version
  
        - name: Install dependencies
          run: npm ci
  
        - name: Release
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          run: npx release-it
